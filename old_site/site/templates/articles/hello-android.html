{% extends "base.html" %}
{% block content %}
<h1>Hello Android!</h1>
<p class="published_on">Wednesday 05 August 2009 (11:55PM)</p>


	<p><img src="/static/images/65.jpg" title="Android" alt="Android" /></p>

	<p>Last month I bought my first new mobile phone since 2001 (honest). </p>

	<p>As a developer I wanted something I could play with, so after looking at the iPhone, Blackberry and Windows based offerings I ended up going for the <a href="http://www.htc.com/www/product/magic/overview.html">HTC Magic</a> running <a href="http://www.android.com/">Google's Android platform</a>. </p>

	<p>So far, I've found it to be a fantastic phone: easy to use, lots of very cool features and small enough to fit in your pocket. It's definitely on a par with <a href="http://developer.apple.com/iphone/">Apple's OS</a> (I own an iPod Touch) &#8211; and with <a href="http://www.htc.com/www/product/hero/overview.html">other</a> Android devices coming to market it looks like Google is onto a winner (again).</p>

	<p>There are several fantastic applications available for Android phones. Two of may favourites are <a href="http://code.google.com/p/geobeagle/">GeoBeagle</a> and <a href="http://www.wikitude.org/">Wikitude &#8211; World Browser</a> (both available in the <a href="http://www.android.com/market/">Marketplace</a>). </p>

	<h2>GeoBeagle</h2>

	<p>GeoBeagle is an open-source <a href="http://www.geocaching.com/">Geocaching</a> application. What is Geocaching..? As the website explains:</p>

	<blockquote>

		<p>"Geocaching is a high-tech treasure hunting game played throughout the world by adventure seekers equipped with GPS devices. The basic idea is to locate hidden containers, called geocaches, outdoors and then share your experiences online. Geocaching is enjoyed by people from all age groups, with a strong sense of community and support for the environment."</p>

	</blockquote>

	<p>As Android phones come with <a href="http://en.wikipedia.org/wiki/Global_Positioning_System">GPS</a> (Global Positioning System) built it &#8211; just like the SatNav in your car &#8211; they can be used to determine your location and how far away you are from a cache. GeoBeagle is an excellent application that makes this easy &#8211; and it's what I use when <a href="http://www.geocaching.com/profile/?guid=8e89fca9-6863-4d8a-98f6-d5a1e3281ee3">I go geocaching</a> with my kids.</p>

	<h2>Wikitude</h2>

	<p>Wikitude World Browser is an example of augmented reality. I'll let their website explain,</p>

	<blockquote>

		<p>"[It] presents the user with data about their surroundings, nearby landmarks, and other points of interest by overlaying information on the real-time camera view of a smart-phone."</p>

	</blockquote>

	<p>When colleagues have asked about my new phone this is the one application I always show quite simply because it raises such incredulity and positive feedback that it is hard not to feel like a time-traveller from the future demonstrating a gizmo from Star Trek.</p>

	<p>Happily, <a href="http://www.mobilizy.com/">Mobilizy</a>, the creators of Wikitude, have <a href="http://www.wikitude.org/developers">released an API</a> (currently in closed Beta) and I requested to get on board. My intention was to <a href="http://en.wikipedia.org/wiki/Mashup_%28digital%29">mashup</a> GeoBeagle and Wikitude as a means of learning Android development.</p>

	<p>Yesterday evening I started experimenting. <em>This</em> evening I finished it off and managed to find enough time before sunset to run to my nearest geocache for testing, the results of which can be seen in the video below:</p>

	<p><object width="640" height="505"><param name="movie" value="http://www.youtube.com/v/sd_h0vynlNM&#38;hl=en&#38;fs=1&#38;rel=0"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/sd_h0vynlNM&#38;hl=en&#38;fs=1&#38;rel=0" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="640" height="505"></embed></object></p>

	<p>What does this show..?</p>

	<ol>

		<li>The freedom to learn from open-source projects such as GeoBeagle is invaluable for a newcomer to a platform such as Android. Bottom line: being open is an immediate win.</li>

		<li>Wikitude is an amazingly simple API to use. As you'll read below, the Mobilizy guys have made developer's lives very easy &#8211; my only concern being that such a simple API will make customisation difficult (although this is only the very first Beta release &#8211; I'm mentioning this for the purposes of feedback and fully expect Wikitude to mature).</li>

		<li>The Android platform is incredibly easy to learn, use, develop against and deploy to. </li>

	</ol>

	<h2>How..?</h2>

	<p>My background in software development includes C/C++, C#/.NET and Python. Android applications are written in Java and deployed to a Dalvik virtual machine &#8211; a "sandbox" for running Java especially designed for mobile devices. As a result I didn't know what to expect. I got from nothing to the content of the video above with the following steps:</p>

	<h3>Step 1</h3>

	<p>You'll need to download and install the Android SDK. Full instructions can be found on <a href="http://developer.android.com/index.html">Android's developer site</a>. This will probably involve installing and configuring the <a href="http://www.eclipse.org/">Eclipse IDE</a>. Don't worry, the instructions are very clear and <em>I</em> managed to do it&#8230; ;-) (Also, the Android developer site is excellent with lots of tutorials, documentation and videos for the hungry mind.)</p>

	<h3>Step 2</h3>

	<p>Once you have the basic development environment installed you'll probably need to tweak it and check it with a simple "Hello World" application. In my case I needed to make sure that Eclipse was targeting Java 1.6 (I'm on OS X where Java 1.5 seemed to be the default choice). I bought an e-book version of <a href="http://www.pragprog.com/titles/eband/hello-android">Hello, Android</a> and chugged through the opening chapters happy that things seemed to be building and working as expected. I also made sure I could deploy / develop against my "real life" mobile phone (rather than the emulator provided). This simply involved plugging it into the computer. You'll need to go to Settings -> Applications on your phone and make sure "Unknown Sources" is checked and that the appropriate settings are ticked under "Development" (I have "USB debugging" and "Stay awake" both checked). </p>

	<h3>Step 3</h3>

	<p>Get hold of GeoBeagle. The <a href="http://code.google.com/p/geobeagle/w/list">website's wiki</a> has excellent instructions but you need to be aware of the following:</p>

	<ul>

		<li>You'll need to have <a href="http://subversion.tigris.org/">Subversion</a> installed in order to get the source.</li>

		<li>Don't use the "trunk" as suggested in the documents. Use the "sng" branch. Grab the code by issuing the following command:</li>

	</ul>

<pre>

<code>

svn checkout http://geobeagle.googlecode.com/svn/branches/sng GeoBeagle

</code>

</pre>

	<ul>

		<li>Follow <a href="http://code.google.com/p/geobeagle/wiki/SVNCheckout">the instructions on the wiki</a> but be aware that you'll have to make sure the di, gen and src directories are <strong>all</strong> referenced in the project's build path (Properties for GeoBeagle -> Java Build Path -> Source). </li>

		<li>The same goes for when you set up the unit tests. I found that the Android 1.5 jar wasn't referenced in the Libraries section of the unit test project's Build Path configuration.</li>

		<li>I could only get GeoBeagle to run on my phone, not in the emulator. I'm assuming the lack of appropriate hardware emulation (such as GPS) is the problem here. In any case, developing on a "real" phone is a breeze.</li>

	</ul>

	<h3>Step 4</h3>

	<p>Sign up for the <a href="http://www.wikitude.org/developers">Wikitude Beta programme</a> and wait for the code and documentation to arrive via email. To get Wikitude and GeoBeagle to play nicely together I simply did the following:</p>

	<ul>

		<li>Reference wikitudearintent.jar in the Libraries section of the Java build path for GeoBeagle.</li>

		<li>Add an appropriate button (I put mine in the menu for the cache list) and join up the event handling code.</li>

		<li>In the event handling code do something like this:</li>

	</ul>

<pre>

<code>

// create the intent

WikitudeARIntent intent = new WikitudeARIntent(myActivity.getApplication(), null, null);

// add the POIs (points of interest)

Collection&lt;WikitudePOI&gt; pois = new ArrayList&lt;WikitudePOI&gt;();

for(GeocacheVector gv : this.mGeocacheVectors.getGeocacheVectorsList()){

        Geocache geocache = gv.getGeocache();

        float longitude = (float) geocache.getLongitude();

        float latitude = (float) geocache.getLatitude();

        String name = (String)geocache.getIdAndName();

        String description = "A description - grab info from geocache instance";

        WikitudePOI poi = new WikitudePOI(latitude, longitude, 0, name, description, null, null);

        pois.add(poi);

    }

    intent.addPOIs(pois);

}

// Add a title

intent.addTitleText("Augmented Reality View");

// Launch the intent

myActivity.startActivity(intent);

</code>

</pre>

	<p>There are only two types of object a developer need worry about:</p>

	<ol>

		<li>WikitudeARIntent &#8211; the "intent" for the Wikitude World Browser (in Android an "intent" represents something that does a specific sort of thing &#8211; like display information using augmented reality as in this case).</li>

		<li>WikitudePOI &#8211; a Point Of Interest to display with the Wikitude intent. You supply information such as the longitude / latitude, altitude, name, description and so on.</li>

	</ol>

	<p>I'm sure the code example above and description of the two classes is more than enough to see how the API works. Even the Wikitude documentation is only three pages long (as it doesn't need to be any longer). </p>

	<p>As I mentioned earlier, my main concern is that with such simplicity comes a lack of potential for customisation. For example, it would be great to override the menu that pops up if you double-tap a POI (as mistakenly happens in the video). Also, I'd like to be able to define area as well as individual points. Why? Consider the following use-case: wouldn't it be great to be standing at the top of the Eiffel Tower and look down on Paris with all the various neighbourhoods highlighted and perhaps colour coded (indicating traffic congestion, for example)?</p>

	<h2>Wrapping Up&#8230;</h2>

	<p>Many thanks to Stephen Ng whose advice and patient help was most gratefully received when trying to get GeoBeagle to build. Without open-source developers like Stephen great tools like GeoBeagle would never exist. He's worth his weight in gold! ;-)</p>

	<p>Over the past two evenings I've had a lot of fun. I suppose the reason for this is both applications share the same outlook expressed in Wikitude's tag-line:</p>

	<blockquote>

		<p>"The World <strong>IS</strong> the Platform!"</p>

	</blockquote>

	<p>...and who wouldn't want to develop for <strong>that</strong> platform..?</p>



 
{% endblock content %}